{% extends "base.html" %}
{% block body %}
<div class="span10">
<h2>Talks & Workshops</h2>
<p>Electromagnetic Field will have an incredibly diverse set of talks and workshops occurring throughout the event.</p>
<p>If you would like to put on a talk or workshop, <a href="http://wiki.emfcamp.org/wiki/Talks">get in touch</a>.</p>

<h3>Ongoing workshops</h3>
<p>There are several workshops that will be running throughout the event on every day, please talk to the info tent if you are interested in taking part in these.</p>
<ul>
<li>Blacksmithing lessons, located in the smithing marquee near the bar</li>
<li>Welding lessons, located near the workshop tent</li>
</ul>

<h3>Talk and Workshop schedule</h3>

<p>The talk and workshop schedule will change throughout the event, check this page regularly, or ask the info tent for a printed copy of the latest schedule.</p>


<h4>Friday 31st August</h4>
<table width="80%">
<th>Time</th><th>Stage Alpha</th><th>Stage Beta</th><th>Workshop</th>
{% for row in friday %}
<tr>
    <td><strong>{{ row.0 }}</strong></td><td width="33%">{{ row.1 }}</td><td width="33%">{{ row.2 }}</td><td width="33%">{{ row.3 }}</td>
</tr>
{% endfor %}
</table>

<br>

<h4>Saturday 1st September</h4>
<table width="80%">
<th>Time</th><th>Stage Alpha</th><th>Stage Beta</th><th>Workshop</th>
{% for row in saturday %}
<tr>
    <td><strong>{{ row.0 }}</strong></td><td width="33%">{{ row.1 }}</td><td width="33%">{{ row.2 }}</td><td width="33%">{{ row.3 }}</td>
</tr>
{% endfor %}
</table>

<br>

<h4>Sunday 2nd September</h4>
<table width="80%">
<th>Time</th><th>Stage Alpha</th><th>Stage Beta</th><th>Workshop</th>
{% for row in sunday %}
<tr>
    <td><strong>{{ row.0 }}</strong></td><td width="33%">{{ row.1 }}</td><td width="33%">{{ row.2 }}</td><td width="33%">{{ row.3 }}</td>
</tr>
{% endfor %}
</table>

</ul>
</div>
{% endblock %}

<script>
    (function(){
    var tables = document.getElementsByTagName('table');
	for(var day = 0; day < tables.length; day++){
		var table = tables[day];
		for(var time = 1; time < table.rows.length; time++){
			var row = table.rows[time];
			for(var stage = 1; stage < row.cells.length; stage++){
				var cell = row.cells[stage];
				var id = 'cf-'+day+'-'+time+'-'+stage;
				cell.onclick = (function(cell, id) {
					function update() {
						cell.style.backgroundColor = localStorage.getItem(id) === 'true' ? 'yellow' : 'white';
					}
					update();
					return function(){
						var toggle = localStorage.getItem(id) ? '' : 'true';
						console.log(id, toggle);
						localStorage.setItem(id, toggle);
						update();
						return false;
					};
				})(cell, id);
			}
		}
	}
})();

</script>